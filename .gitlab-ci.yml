stages:

  - test




# Stage: Run Zest Penetration Test
run_zest_tests:
  stage: test
  script:
    - pkill -f zap || true
    - zap.sh -cmd -script "/Users/timothytay/Desktop/sweng2025/sweng25_group36-workdaysecurity/zest-scrips/simpleTest02.zst"
    #- zap.sh -cmd -script zest-scripts/advancedTest01.zst -scriptType zest -scriptEngine Zest
    - zap.sh -cmd -quickurl "http://localhost:3000" -quickout "/Users/timothytay/Desktop/sweng2025/sweng25_group36-workdaysecurity/output-logs/zest_results.json"
    
    - cat "/Users/timothytay/Desktop/sweng2025/sweng25_group36-workdaysecurity/output-logs/zest_results.json"
    
  tags:
    - tim-mac
  